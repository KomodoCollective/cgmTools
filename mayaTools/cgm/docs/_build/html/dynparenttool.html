

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Dynamic Parent Tool &mdash; cgmTools 1.0.1 documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/styleoverrides.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="cgmTools 1.0.1 documentation" href="index.html"/>
        <link rel="next" title="Locinator" href="locinator.html"/>
        <link rel="prev" title="Attr Tools" href="attrtools.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> cgmTools
          

          
            
            <img src="_static/cgmCalig_64px.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">What's new?</a></li>
<li class="toctree-l1"><a class="reference internal" href="attrtools.html">Attr Tools</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Dynamic Parent Tool</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#accessing">Accessing</a></li>
<li class="toctree-l2"><a class="reference internal" href="#terminology">Terminology</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ui">UI</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#menu">Menu</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#switch">Switch</a></li>
<li class="toctree-l4"><a class="reference internal" href="#pivot">Pivot</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#cgmdynparentgroup">cgmDynParentGroup</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#dynchild">DynChild</a></li>
<li class="toctree-l4"><a class="reference internal" href="#report">Report</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mode">Mode</a></li>
<li class="toctree-l4"><a class="reference internal" href="#buttons">Buttons</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#parents-scroll-list">Parents Scroll List</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#popup">Popup</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id1">Buttons</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#practical-uses">Practical Uses</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#referenced-assets">Referenced Assets</a></li>
<li class="toctree-l3"><a class="reference internal" href="#switching-setup">Switching Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="#adding-to-your-own-menu">Adding to your own Menu</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="locinator.html">Locinator</a></li>
<li class="toctree-l1"><a class="reference internal" href="markingmenu.html">Marking Menu</a></li>
<li class="toctree-l1"><a class="reference internal" href="meshtools.html">Mesh Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="settools.html">Set Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="toolbox.html">Toolbox</a></li>
<li class="toctree-l1"><a class="reference internal" href="knowledge.html">Knowledege</a></li>
<li class="toctree-l1"><a class="reference internal" href="support.html">Support</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">cgmTools</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Dynamic Parent Tool</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/dynparenttool.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="toctree-wrapper compound">
</div>
<div class="section" id="dynamic-parent-tool">
<h1>Dynamic Parent Tool<a class="headerlink" href="#dynamic-parent-tool" title="Permalink to this headline">¶</a></h1>
<p>Status: Alpha release</p>
<p>Last Updated: August 2017</p>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>The dynamic parent tool is for setting up and managing dynamic parent setups for controls in rigs. Underlying tech
was creating during Morpheus 2 development. Acknowlegments to our friend John Doublestein for the initial seed of how to do this.</p>
<img alt="_images/dynparenttool_vid_1.png" class="align-center" src="_images/dynparenttool_vid_1.png" />
<p>Until we get embeded video sorted. Please use this link: <a class="reference external" href="https://player.vimeo.com/video/220053622">https://player.vimeo.com/video/220053622</a></p>
<p><strong>Features</strong></p>
<ul class="simple">
<li>Attempting to make space switching more accessible</li>
<li>Supports multiple modes: space,orient,follow</li>
<li>Space Pivots for easy constrainable spaces</li>
<li>Contextual marking menu for handy switching</li>
</ul>
</div>
<div class="section" id="accessing">
<h2>Accessing<a class="headerlink" href="#accessing" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><dl class="first docutils">
<dt>UI</dt>
<dd><ul class="first last">
<li>Top cgm menu. <code class="docutils literal"><span class="pre">CGM&gt;</span> <span class="pre">TD/Create&gt;</span> <span class="pre">Rigging</span> <span class="pre">Utils&gt;</span> <span class="pre">Dyn</span> <span class="pre">Parent</span> <span class="pre">Tool</span></code></li>
<li>TD Marking menu. <code class="docutils literal"><span class="pre">Utils(NW)&gt;cgmDynParentTool(N)</span></code></li>
<li>Anim/Puppet Marking menus. <code class="docutils literal"><span class="pre">Utils(Bottom)&gt;cgmDynParentTool</span></code></li>
</ul>
</dd>
</dl>
</li>
<li>Python</li>
</ol>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">cgm.core.tools</span> <span class="kn">import</span> <span class="n">dynParentTool</span> <span class="k">as</span> <span class="n">cgmDynPrntTool</span>
<span class="nb">reload</span><span class="p">(</span><span class="n">cgmDynPrntTool</span><span class="p">)</span>
<span class="n">cgmDynPrntTool</span><span class="o">.</span><span class="n">ui</span><span class="p">()</span>

<span class="c1">#or</span>

<span class="n">cgm</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">tools</span><span class="o">.</span><span class="n">dynParentTool</span><span class="o">.</span><span class="n">ui</span><span class="p">()</span>
</pre></div>
</div>
<p>Regardless of how you got there, you should see something like this:</p>
<img alt="_images/dynparenttool_win.png" class="align-center" src="_images/dynparenttool_win.png" />
<p>Yours won't have anything loaded though. Let's dig in.</p>
</div>
<div class="section" id="terminology">
<h2>Terminology<a class="headerlink" href="#terminology" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><strong>Dynamic Parent Group (dynParentGroup)</strong> - A metaclassed group setup from a dynamic child for switching that child</li>
<li><strong>Dynamic Child (dynChild/target)</strong> - The controlled object that is able to keep clean animation channels while following other spaces</li>
<li><strong>Dynamic Parent (dynParent)</strong> - A specified parent for a dynChild stored to a dynParentGroup to switch between.</li>
<li><dl class="first docutils">
<dt><strong>Mode (dynMode)</strong> - The mode the dynParentGroup is in. Currently supports:</dt>
<dd><ul class="first last">
<li><strong>0 - space</strong> - Most typically used option, target follows the space of the target</li>
<li><strong>1 - orient</strong> - Target follows the orientation of the target</li>
<li><strong>3 - follow</strong> - Target follows the position of one space and the orientation of another. Most useful for a head for example.</li>
</ul>
</dd>
</dl>
</li>
<li><strong>Space Pivots(Pivots)</strong> - This is our solution for having easily constrainable spaces that change scene by scene.</li>
<li><strong>Alias</strong> - A string that displays for a given dynParent so that what displays in the attribute switcher and marking menu makes more sense. Instead of master_anim or whatever it can show <code class="docutils literal"><span class="pre">world</span></code>. It works by a string attribute stored to a dynParent  called <code class="docutils literal"><span class="pre">cgmAlias</span></code>. This is used for more functionality to similar effect in our other systems as well.</li>
</ul>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">The alias can be changed in referenced assets and when done via the gui will update the enum attributes accordingly.</p>
</div>
</div>
<div class="section" id="ui">
<h2>UI<a class="headerlink" href="#ui" title="Permalink to this headline">¶</a></h2>
<div class="section" id="menu">
<h3>Menu<a class="headerlink" href="#menu" title="Permalink to this headline">¶</a></h3>
<div class="section" id="switch">
<h4>Switch<a class="headerlink" href="#switch" title="Permalink to this headline">¶</a></h4>
<img alt="_images/dynparenttool_switchSingle.png" class="align-center" src="_images/dynparenttool_switchSingle.png" />
<p>Contextual menu that builds a switcher based on item selection regardless of what is loaded to the ui.</p>
<ul class="simple">
<li>Depending on mode, the options in the switcher will change. For example, for follow mode you will get both <code class="docutils literal"><span class="pre">change</span> <span class="pre">orientTo</span></code> and <code class="docutils literal"><span class="pre">change</span> <span class="pre">follow</span></code> options with flyouts for each one.</li>
<li>If multiple objects are selected and they both have dynParentGroups, a multi switch will be an option as well to select shared options.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The switch can be added to any of your own menus. See below: <a class="reference internal" href="#adding-to-your-own-menu">Adding to your own Menu</a></p>
</div>
</div>
<div class="section" id="pivot">
<h4>Pivot<a class="headerlink" href="#pivot" title="Permalink to this headline">¶</a></h4>
<p>Menu for adding/editing space pivots. Currently it only works off of loaded objects and not selection. For best use, your source control should be zeroed out.</p>
<img alt="_images/dynparenttool_pivot.png" class="align-center" src="_images/dynparenttool_pivot.png" />
<ul class="simple">
<li><strong>Add Single</strong> - Adds a single space pivot</li>
<li><strong>Add Multiple</strong> - Add as many pivots as you like from a provided prompt</li>
<li><strong>Clear</strong> - Clear all space pivots from the loaded object and rebuild the dynParentGroup</li>
</ul>
</div>
</div>
<div class="section" id="cgmdynparentgroup">
<h3>cgmDynParentGroup<a class="headerlink" href="#cgmdynparentgroup" title="Permalink to this headline">¶</a></h3>
<p>The top section is divided into a couple of parts. Let's take a look one by one. Here's a basic ui window again.</p>
<img alt="_images/dynparenttool_win.png" class="align-center" src="_images/dynparenttool_win.png" />
<div class="section" id="dynchild">
<h4>DynChild<a class="headerlink" href="#dynchild" title="Permalink to this headline">¶</a></h4>
<p>This section is for loading an object to the tool. With a given transform selected. Hit the <code class="docutils literal"><span class="pre">&lt;&lt;</span></code> button to load it. The tool will populate with what it finds. If a dynParentGroup is detected it will load the rest of the ui with that information.</p>
<img alt="_images/dynparenttool_win.png" class="align-center" src="_images/dynparenttool_win.png" />
<p><strong>Popup</strong></p>
<p>There is a left click pop up menu on any loaded object.</p>
<img alt="_images/dynparenttool_childPop.png" class="align-center" src="_images/dynparenttool_childPop.png" />
<ul class="simple">
<li><strong>Select Loaded</strong> - Select the loaded dynChild</li>
<li><strong>Select dynGroup</strong> - Select the dynGroup</li>
<li><strong>Select dynParents</strong> - Select the dynParents of the loaded dynChild</li>
</ul>
</div>
<div class="section" id="report">
<h4>Report<a class="headerlink" href="#report" title="Permalink to this headline">¶</a></h4>
<p>The noninterative row report data found.</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">...</span></code> - Nothing found</li>
<li><code class="docutils literal"><span class="pre">No</span> <span class="pre">dynParentGroup</span> <span class="pre">detected</span></code> - dynChild loaded, but hasn't been built</li>
<li><code class="docutils literal"><span class="pre">DynGroup:</span> <span class="pre">mode:</span> <span class="pre">2</span> <span class="pre">|</span> <span class="pre">targets:</span> <span class="pre">3</span></code> - dynGroup found. It's mode and the number of targets.</li>
</ul>
</div>
<div class="section" id="mode">
<h4>Mode<a class="headerlink" href="#mode" title="Permalink to this headline">¶</a></h4>
<p>This lets you change the mode for the next rebuild of the dynParentGroup.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">Your mode will not change until your build your dyn group again.</p>
</div>
</div>
<div class="section" id="buttons">
<h4>Buttons<a class="headerlink" href="#buttons" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">Rebuild</span></code> - If dynParentGroup exists, make one. If one exists, rebuild it (taking into account new mode for example).</li>
<li><code class="docutils literal"><span class="pre">Clear</span></code> - Clear all parts of a loaded dynParentGroup.</li>
<li><code class="docutils literal"><span class="pre">Copy</span></code> - Copy the current dynParentGroup to any selected objects.</li>
</ul>
</div>
</div>
<div class="section" id="parents-scroll-list">
<h3>Parents Scroll List<a class="headerlink" href="#parents-scroll-list" title="Permalink to this headline">¶</a></h3>
<p>Here you will find a list of parents connected to the dynParentGroup. Let us look at the ui again.</p>
<img alt="_images/dynparenttool_win.png" class="align-center" src="_images/dynparenttool_win.png" />
<p>Here is a line we'll break down: <code class="docutils literal"><span class="pre">0</span> <span class="pre">\</span> <span class="pre">cat(cat_jnt)</span> <span class="pre">\</span> <span class="pre">((Space))</span></code></p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">0</span></code> - The index of the dynParent</li>
<li><code class="docutils literal"><span class="pre">cat(cat_jnt)</span></code> - This is showing an alias. The Alias is shown first, the object is in the <code class="docutils literal"><span class="pre">()</span></code></li>
<li><code class="docutils literal"><span class="pre">((Space))</span></code> - This designates that the this dynParent is the active dynSpace target for our dynParentGroup and dynChild</li>
</ul>
<div class="section" id="popup">
<h4>Popup<a class="headerlink" href="#popup" title="Permalink to this headline">¶</a></h4>
<p>The scroll list items have right click menu and double click functionality.</p>
<ul class="simple">
<li>Doubleclick - This will select the parent in maya</li>
<li>Right Click - Single parent selected</li>
<li>Right Click - Multi parents selected</li>
</ul>
<p><strong>Single</strong></p>
<img alt="_images/dynparenttool_parentPopSingle.png" class="align-center" src="_images/dynparenttool_parentPopSingle.png" />
<ul class="simple">
<li><code class="docutils literal"><span class="pre">Alias</span></code> - Add or change the alias of a given parent</li>
<li><code class="docutils literal"><span class="pre">Clear</span> <span class="pre">Alias</span></code> - Clear the alias attribute</li>
<li><code class="docutils literal"><span class="pre">Select</span></code> - Select the parents in maya</li>
<li><code class="docutils literal"><span class="pre">Switch</span></code> -</li>
<li><code class="docutils literal"><span class="pre">Move</span> <span class="pre">Up</span></code> - Move selected up in the list</li>
<li><code class="docutils literal"><span class="pre">Move</span> <span class="pre">Down</span></code> - Move selected down in the list</li>
</ul>
<p><strong>Multi</strong></p>
<img alt="_images/dynparenttool_parentPopMulti.png" class="align-center" src="_images/dynparenttool_parentPopMulti.png" />
<ul class="simple">
<li><code class="docutils literal"><span class="pre">Select</span></code> - Select the parents in maya</li>
<li><code class="docutils literal"><span class="pre">Move</span> <span class="pre">Up</span></code> - Move selected up in the list</li>
<li><code class="docutils literal"><span class="pre">Move</span> <span class="pre">Down</span></code> - Move selected down in the list</li>
</ul>
</div>
<div class="section" id="id1">
<h4>Buttons<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h4>
<p>These functions are somewhat contextual. They work both off of maya selection and dynParent list.</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">Add</span></code> - Add selected as parents</li>
<li><code class="docutils literal"><span class="pre">Remove</span></code> - Remove selected as parents</li>
<li><code class="docutils literal"><span class="pre">Move</span> <span class="pre">Up</span></code> - Move selected up in the list</li>
<li><code class="docutils literal"><span class="pre">Move</span> <span class="pre">Up</span></code> - Move selected down in the list</li>
</ul>
</div>
</div>
</div>
<div class="section" id="practical-uses">
<h2>Practical Uses<a class="headerlink" href="#practical-uses" title="Permalink to this headline">¶</a></h2>
<div class="section" id="referenced-assets">
<h3>Referenced Assets<a class="headerlink" href="#referenced-assets" title="Permalink to this headline">¶</a></h3>
<p>The easiest way to set things up is to add as many (and maybe a couple of more) space pivots in your base rig as you think
you will need. In actuality you will probably never need more than 3 to which you can switch between in even
complex scenes.</p>
<p>When animating in your referenced scene say you want to animate a hand along a staff and still want clean
animation channels. In this case your dynParentGroup would be setup as a space setup more than likely.</p>
<ol class="arabic simple">
<li>Select your control that has been setup with switching and has at least a single space pivot.</li>
<li>Key your control on the frame before you want following enabled. This will key in your current space.</li>
<li>Turn on the space pivot you want to use via the attribute on your control.</li>
<li>Position the space pivot where you want your new space.</li>
<li>Constrain that space pivot to the prop</li>
<li>Use the ui or marking menu to change your current space to the space pivot you have been using.</li>
<li>Your control will now track your prop from this point forward on the timeline.</li>
</ol>
</div>
<div class="section" id="switching-setup">
<h3>Switching Setup<a class="headerlink" href="#switching-setup" title="Permalink to this headline">¶</a></h3>
<p>There are a couple of ways to handle switching. Through the ui but more practical is via the marking menu.</p>
<p>Currently the marking menu is setup in <cite>anim</cite> and <cite>puppet</cite> modes in the [cgmMarkingMenu](markingmenu.md). To do so.
1. Select any objects with a dynParentGroup setup.
2. Activate the marking menu. You'll see a contextual switcher and visible on load. Easiest just to try it out.</p>
</div>
<div class="section" id="adding-to-your-own-menu">
<h3>Adding to your own Menu<a class="headerlink" href="#adding-to-your-own-menu" title="Permalink to this headline">¶</a></h3>
<p>Assuming you use pythonic ui setups. It would look something like this.</p>
<p>In your module, you'll need to import the tool.</p>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">cgm.core.tools.dynParentTool</span> <span class="kn">as</span> <span class="nn">DYNPARENTTOOL</span>
</pre></div>
</div>
<p>Where you want it in your ui you'd use this call.</p>
<div class="highlight-guess"><div class="highlight"><pre><span></span>DYNPARENTTOOL.uiMenu_changeSpace(self,parent,False)
</pre></div>
</div>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">self</span></code> - This is your object</li>
<li><code class="docutils literal"><span class="pre">parent</span></code> - This is the ui element to parent the new elements to</li>
<li><code class="docutils literal"><span class="pre">False</span></code> - This is a flag <code class="docutils literal"><span class="pre">showNoSel</span></code>. This means that if <code class="docutils literal"><span class="pre">False</span></code> it shows up regardless of whether anythign is selected or not.</li>
</ul>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="locinator.html" class="btn btn-neutral float-right" title="Locinator" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="attrtools.html" class="btn btn-neutral" title="Attr Tools" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, CG Monks.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>